
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>My Octopress Blog</title>
  <meta name="author" content="Your Name">

  
  <meta name="description" content="Hi. I&#8217;m Your Name. Here are some thoughts of mine. Nov 29th, 2011 Asset Pipeline with Rails 3.1 This is the new very interesting and useful &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://yoursite.com/blog/page/2">
  <link href="/favicon.png" rel="icon">
  <link href='http://fonts.googleapis.com/css?family=Quicksand:300,400' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css'>
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="My Octopress Blog" type="application/atom+xml">
  <script src="/js/jquery.js"></script>
  <script src="/js/bootstrap-collapse.js"></script>
  <script src="/js/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/js/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <div class="navbar navbar-inverse navbar-static-top">
  	<div class="navbar-inner">
  	  <div class="container">
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".navbar-responsive-collapse">
          <span class="fui-menu-24"></span>
        </a>
  	  	<div class="nav-collapse collapse navbar-responsive-collapse" style="height:0;">
  	      <ul class="nav">
    
</ul>

<ul class="nav pull-right">
    
    
    
    
    
</ul>

  	    </div>
  	  </div>
  	</div>
  </div>
  <div class="container" id="main">
    <div class="span12">
      <div class="row-fluid">
        <div id="content">
          <div class="jumbotron">
  <div class="container">
    Hi. I&#8217;m Your Name.
    <h3 class="tagline">Here are some thoughts of mine.</h3>
  </div>
</div>


<div class="blog-index">
  
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2011-11-29T00:00:00+01:00" pubdate data-updated="true">Nov 29<span>th</span>, 2011</time></h5>
          <div class="row-fluid">
          
          </div>
          
          <div class="row-fluid">
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/blog/2011/11/29/asset-pipeline.html/">Asset Pipeline with Rails 3.1</a></h1>
      <p>
This is the new very interesting and useful  feature in Rails 3.1.
</p>


<p><strong>Asset Pipeline</strong></p>

<ul>
    <li>The asset pipeline provides a framework to concatenate and minify or compress JavaScript and CSS assets.</li>
    <li>It allows you to write these assets in other languages like CoffeeScript, Sass and ERB</li>
    <li>Asset pipeline helpful in production environment cause it will reduce the number of request which browser make.</li>
</ul>


<p>Prior to Rails 3.1 these features were added through third-party Ruby libraries such as Jammit and Sprockets. Rails 3.1 is integrated with Sprockets through Action Pack which depends on the sprockets gem, by default.</p>


<p><strong>Asset Organization</strong></p>

<div>Prior to Rails 3.1 -:</div>


<ul>
    <li>Currently we have all assets in one directory public.we are putting all javascripts either it is third party javascirpt or your own javascript.Its not good way to treat them because like in rails we have a very good organization to put our code file.</li>
    <li>Its not not easy to update our javascirpt code(like if we are using third party code)</li>
</ul>


<p>In Rails 3.1-:</p>

<p>There are three directories</p>

<ul>
    <li><strong>app/assets-:</strong> it holds the code write for specific appication</li>
    <li><strong>lib/assets -:</strong> it holds the generic code we write for our application(for example if we extending any jQuery function)</li>
    <li><strong>vendor/assets -:</strong> it holds the third party code(like we are using any jQuery plugin)</li>
</ul>


<p>so if you want to access application.css in app/assets/stylesheets.you can just access the url localhost:3000/assets/application.css</p>


<p>
you can add additional path to the pipeline in config/application.rb. For example:
<pre class="brush:ruby">config.assets.paths &lt;&lt; Rails.root.join("app", "assets", "flash")</pre>
</p>


<p><strong>Manifest files and Directives</strong></p>

<ul>
    <li>Manifest files used by Sprockets(a gem support Asset pipe line its is added in rails 3.1 app by default),in these files contains instruction that tell Sprockets which files are required to build a single CSS or Javascript file,these instructions are called Directives</li>
    <li>In Rails 3.1 Default Directives are application.js in app/assets./javascripts directory and application.css in app/assets/stylesheets</li>
</ul>


<p><strong>Assets In Development </strong></p>

<p>
In Development environment all assets are served as individual files
For Example in app/assets/javascripts/application.js
</p>


<pre><code>//= require core
//= require blogs&lt;/blockquote&gt;
</code></pre>

<p>after converting in HTML it will look like</p>

<pre><code>&lt;script src="/assets/core.js?body=1" type="text/javascript"&gt;&lt;/script&gt;
&lt;script src="/assets/blogs.js?body=1" type="text/javascript"&gt;&lt;/script&gt;
</code></pre>

<p>If turn off debugging by setting config.assets.debug = false in config/environments/development.rb
above file will generate</p>


<pre><code>&lt;script src="/assets/application.js?body=1" type="text/javascript"&gt;&lt;/script&gt;
</code></pre>

<p><strong>In Production</strong></p>

<p>
Rails server complied assets using <strong>Fingerprinting Scheme</strong>
</p>


<p>
<strong>In Fingerprinting</strong> scheme a hash of  content is attached to the end of file to uniquely identified the file
blogs-908e25f4bf641868d8683022a5b62f54.css
</p>


<p>
Prior rails 3.1 a time stamp query string is attached to file name
<span>stylesheets/blogs.css?1409495796</span>
</p>




<p>For example -:</p>


<pre><code>&lt;%= javascript_include_tag :application%&gt;
&lt;%= stylesheet_link_tag "application" %&gt;
</code></pre>

<p>It will compile in to</p>

<pre><code>&lt;script src="/assets/application-908e25f4bf641868d8683022a5b62f54.js" type ="text/javascript"&gt;&lt;/script&gt;
&lt;link href="/assets/application-4dd5b109ee3439da54f5bdfd78a80473.css" media="screen" rel="stylesheet" type="text/css"&gt;
</code></pre>

<p>
The fingerprinting behavior is controlled by the setting of <b>config.assets.digest</b> setting in Rails (which is <b>true</b> for production, <b>false</b> for everything else)
</p>


<p><strong>Useful Links &ndash;:</strong></p>

<ul>
<li>
  <a href="http://railscasts.com/episodes/279-understanding-the-asset-pipeline" target="_blank">http://railscasts.com/episodes/279-understanding-the-asset-pipeline</a>
</li>
<li><a href="http://guides.rubyonrails.org/asset_pipeline.html" target="_blank">http://guides.rubyonrails.org/asset_pipeline.html</a></li>
</ul>


      
      
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2011-05-15T00:00:00+02:00" pubdate data-updated="true">May 15<span>th</span>, 2011</time></h5>
          <div class="row-fluid">
          
          </div>
          
          <div class="row-fluid">
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/blog/2011/05/15/jquery-datetime-picker/">jQuery Date/Time picker</a></h1>
      <p>To handle date and time both in calender use jQuery date time picker add-on</p>

<p>you need to inlcude javascript files</p>

<pre class="brush:ruby">
jquery-1.4.1.min
jquery-ui-1.8.9.custom.min
jquery-ui-timepicker-addon
</pre>


<p>Inclue CSS files</p>

<pre class="brush:ruby">jquery-ui-1.8.9.custom
</pre>




<pre class="brush:ruby">
<%#= text_field_tag ' name','',:class => 'date_value'%>
jQuery('.'date_value).datetimepicker({
  dateFormat: 'MM dd,yy'
});
</pre>


      
      
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2010-12-31T00:00:00+01:00" pubdate data-updated="true">Dec 31<span>st</span>, 2010</time></h5>
          <div class="row-fluid">
          
          </div>
          
          <div class="row-fluid">
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/blog/2010/12/31/twitter-client-script-to-retrieves-all-the-unique-http-links-in-the-last-recent-tweets/">Twitter Client script to retrieves all the unique http links in the last recent tweets</a></h1>
      <h1>Code to fetch link from tweets matched by given hash_tag</h1>

<blockquote>
<pre>
require 'rubygems'
require 'twitter'


hash_tag = ARGV.first

if hash_tag.nil?
  puts "Please provide tag you want to fetch. Example 'rails', '#rails'"
  exit
end
puts 'fetching......'
begin
  tweets = Twitter::Search.new.hashtag(hash_tag)
rescue Exception => e
  # Time out or any other error can occur here
  puts "Errors in fetching tweets #{e}"
end
links = []
tweets.each do |tweet|
  links << tweet.text.match(/\bhttps?:\/\/\S+\b/)
end

links = links.uniq
puts links
</pre>
</blockquote>




      
      
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2010-12-21T00:00:00+01:00" pubdate data-updated="true">Dec 21<span>st</span>, 2010</time></h5>
          <div class="row-fluid">
          
          </div>
          
          <div class="row-fluid">
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/blog/2010/12/21/include-class-method-and-validation-using-module-in-rubyonrails/">Include Class Methods and Validation Using Module in RubyOnRails</a></h1>
      <blockquote>
<pre>
<code>
class User
  include TestModule
end

module TestModule
  def test_instance_method
    puts "Test Method"
  end

  def self.included(base)
    base.extend ClassMethods
  end

  module ClassMethods
    def my_class_method
      puts "Class Methods"
    end
  end
end
</pre>
</code>
</blockquote>


<p>Here my_class_method is Class Method.we can define more class methods in module ClassMethods</p>

<p>Validations and call backs are called without prefix &lsquo;self&rsquo;. so for validations and call backs
we have to explicitly set the class</p>

<blockquote>
<code>
<pre>
module TestModule
  def self.included(base)
    base.validates_presence_of :bar
    base.before_save :some_method
  end
end
</pre>
</code>
</blockquote>




      
      
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2010-12-04T00:00:00+01:00" pubdate data-updated="true">Dec 4<span>th</span>, 2010</time></h5>
          <div class="row-fluid">
          
          </div>
          
          <div class="row-fluid">
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/blog/2010/12/04/routes-in-rails3/">Routes in Rails3</a></h1>
      <h1>Rails3 define routes in more efficient way</h1>


<p>Routes for CRUD actions</p>

<blockquote>
<code>resources   :users</code>
</blockquote>


<p>Also define for multiple resources</p>

<blockquote>
<code>resources :users,  :blogs, :books</code>
</blockquote>


<p>Nested Routes</p>

<blockquote>
<code>
<pre>
  resources :users do
    resources  :blogs
  end
</pre>
</code>
</blockquote>


<p>Member and collection</p>

<blockquote>
<code>
<pre>
  resources :blogs do
    :get => :preview, :on =>:member
    :get => :list, :on =>:collection
  end
</pre>
</code>
</blockquote>


<p>if  we have more than one collection or member functions</p>

<blockquote>
<code>
<pre>
resources  :blogs do
    member do
     :get  :preview
     :put :sort
    end
   collection do
     :get :list
     :get :detailed_info
   end
end
</pre>
</code>
</blockquote>


<p>Named Routes</p>

<blockquote>
<code>
<pre>
  match "history" => "site#index", :as => :history
</pre>
</code>
</blockquote>


<p>Adding :as makes it a named route so that we can use <code>history_path</code> or <code>history</code><code>_url</code> in our application.</p>

<p>Route for Root</p>

<blockquote>
<code>
  root   :to => "home#index"
</code>
</blockquote>


<p>Constraints and Parameters in routes</p>

<blockquote>
<code>
  match "search/:email(/:first_name/:last_name)" => "users#search",  :constraints => {:email => /\A([^@\s]+)@((?:[-a-z0-9]+\.)+[a-z]{2,})\Z/i}
</code>
</blockquote>


<p>Here email is mandatory parameter and first_name and last is optional parameter and in constraints email format is defined</p>

      
      
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2010-11-24T00:00:00+01:00" pubdate data-updated="true">Nov 24<span>th</span>, 2010</time></h5>
          <div class="row-fluid">
          
          </div>
          
          <div class="row-fluid">
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/blog/2010/11/24/activemodel-in-rails3-table-less-model-can-behave-like-active-record-model/">ActiveModel in Rails3</a></h1>
      <p>In Rails3 Active Model feature is added that helps to use feature of active record class for a non active record class.In Active Model you can make Any Ruby Object Feel Like Active Record and can get Rails-style models with validations, serialization, callbacks, dirty tracking, internationalization, attributes, observers and all the other Rails goodness.</p>

<p>Here is the example &ndash;:</p>

<pre class="brush:ruby">
class Message
  include ActiveModel::Validations
  include ActiveModel::Conversion
  include ActiveModel::Naming

  attr_accessor :name,:email,:text_message

  validates_presence_of :name
  validates_presence_of :email
  validates_presence_of :text_message
  validates_length_of :text_message, :maximum =&gt; 500

  def initialize(attributes={})
    attributes.each do |name, value|
      send("#{name}=", value)
    end
  end

end

</pre>


<p>@message = Message.new({:name =&gt; &ldquo;rays&rdquo;, :email =&gt; &lsquo;<a href="&#x6d;&#x61;&#105;&#108;&#116;&#111;&#x3a;&#97;&#98;&#99;&#x40;&#101;&#x78;&#x61;&#109;&#112;&#108;&#101;&#46;&#99;&#111;&#109;">&#x61;&#x62;&#x63;&#x40;&#101;&#120;&#x61;&#109;&#112;&#108;&#x65;&#x2e;&#99;&#x6f;&#x6d;</a>&rsquo;, :text_message =&gt; &ldquo;this my text message&rdquo;})</p>

<p>@message.valid? =&gt; true</p>

<p>@message = Message.new({:name =&gt; &ldquo;rays&rdquo;, :text_message =&gt; &ldquo;this my text message&rdquo;})</p>

<p>@message.valid? =&gt; false</p>

<p>@message.errors will give error &ldquo;Email can&rsquo;t be blank&rdquo;</p>

      
      
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2010-08-02T00:00:00+02:00" pubdate data-updated="true">Aug 2<span>nd</span>, 2010</time></h5>
          <div class="row-fluid">
          
          </div>
          
          <div class="row-fluid">
          
          <a href="/blog/categories/ActiveMerchant,/"><span class="badge">ActiveMerchant,</span></a>
          
          <a href="/blog/categories/PaymentGatewayPlugin/"><span class="badge">PaymentGatewayPlugin</span></a>
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/blog/2010/08/02/extended-version-of-active-merchant-plugin/">Extended Version of Active Merchant Plugin</a></h1>
      <p>Extend the existing <strong>active merchant</strong> plug in for extracting transaction report via Date Range or Transactions id.Now u can fetch transactions by date range and between transaction ids range by using this plug in</p>

<p><a href="http://github.com/raysrashmi/active_merchant">github.com/raysrashmi/active_merchant</a></p>

      
      
    </div>
  </div>



    </article>
    
  
  <div class="pagination">
    

    
    <a class="next" href="/">Newer &rarr;</a>
    
  </div>
</div>


        </div>
      </div>
      <div class="row-fluid">
        <footer class="footer-page" role="contentinfo">
          <p>
  Copyright &copy; 2013 - Your Name -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span> - Theme by <a href="http://alexgaribay.com">Alex Garibay</a>
</p>


        </footer>
      </div>
    </div>
  </div>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
